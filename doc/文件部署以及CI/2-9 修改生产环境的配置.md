#### 修改生产环境的配置文件

* 给mongodb 和 redis 添加密码
  ```typescript
    // 1.给 mongoDB 和 redis 添加密码 待办项
    // config.mongoose = {
    //   client: {
    //     url: 'xxx',
    //     options: {
    //       dbName: 'lego',
    //       user: 'xyz',
    //       pass: 'pass'
    //     }
    //   }
    // }
    // config.redis = {
    //   client: {
    //     port: 6379,
    //     host: '127.0.0.1',
    //     password: 'pass',
    //     db: 0
    //   }
    // }
  ```
* 2 配置 cors 允许的域名

```typescript
  config.security = {
    domainWhiteList: ['https://imooc-lego.com','https://www.imooc-lego.com']
  }
```

* 3 配置生产环境过期时间 2 天

```typescript
config.jwtExpires = '2 days';
```

* * 修改jwt.sign的参数

```typescript
      const token = app.jwt.sign(
        { username: user.username, _id: user._id },
        app.config.jwt.secret,
        { expiresIn: app.config.jwtExpires }
      );
```

* 4. 替换本地的URL地址

```typescript
  config.giteeOauthConfig = { 
    redirectURL: 'http://api.imooc-lego.com/api/users/passport/gitee/callback'
  }
  config.H5BaseURL = 'https://h5.imooc-lego.com';
```
