#### 传统部署模式

**本地开发**

使用egg-bin https://github.com/eggjs/egg-bin,提供了便捷的方式在本地地进行开发、调试、单元测试、它可以

自动的监控文件的修改，然后重新运行对应的命令。

采用的配置文件是: config.default.ts

启动开发环境命令为egg-bin dev

**生产环境运行程序**

**pm2 - process manager: https://pm2.keymetrics.io/**

```bash
node script.js
pm2 start script.js
```

**PM2的优势**

* cluster 模式运行
* 自动重启auto reload
* 热替换hot reload
* 性能监控monitoring

**egg.js做法**

* egg-scripts https://github.com/eggs/egg-script
* egg-cluster https://github.com/eggjds/egg-cluster

**egg.js生产环境的启动和关闭**
```bash
egg-scripts start
egg-scripts stop
```
**配置文件**
config.prod.ts + config.default.ts

**编译过程**
需要手动将ts转换为 js,借助ets: https://github.com/whxaxes/egg-ts-helper
```bash
# 特别注意将项目中的 typescript 升级到4.4.3
npm run tsc
```
