## 数据库设计

**MongoDB最佳设计实践**

https://www.mongodb.com/developer/article/mongodb-schema-design-best-practices

## 关键问题：

* 选择**内嵌**（Embedding）
* **还是引用**（Referencing）

**内嵌的优势：**

* 1.只需一次查询就可以查询所有的信息。
* 2.避免多集合查询
* 3.只需要一个操作就可更新多个信息

**内嵌的劣势：**

* 1.单个文档太大，查询可以更耗时，获得的无关信息概率增大
* 2.针对每个文档（一笔记录），MongoDB有一个16M的最大限制，内嵌太多，可能超过个限制

**引用的优势**

* 1.将数据分散到不同文档，数据量会变小
* 2.不太会超过16M的最大限制
* 3.每交查询了得不必要的数据的概率降低。

**引用的劣势**

* 1.需要多次查询才能获得最终数据
*
