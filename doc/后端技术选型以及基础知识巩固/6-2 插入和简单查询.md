### 数据插入

```
import { MongoClient } from 'mongodb';
const url = 'mongodb://localhost:27017';
const client = new MongoClient(url);
const records = [
  {
    name: 'Westbrook',
    age: 32
  },
  {
    name: 'Howard',
    age: 35
  }
]

async function run() {
  try {
    await client.connect();
    const db = client.db('hello');
    const res = await db.command({ ping: 1 });
    console.log('connected', res);
    const userCollection = db.collection('user');
    // 数据插入
    const result_1 = await userCollection.insertOne({ name: 'AD', age: 28 });
    console.log(result_1);
    // 插入多条数据
    const results_1 = await userCollection.insertMany(records);
    console.log(results_1)

    // 查找
    const result = await userCollection.findOne({name:'don'})
    console.log(result)
    console.log('*************************')
    // 查找多条 （反回一个指针游标）
    const cursor = userCollection.find()
    // 1 使用 forEacj
    await cursor.forEach(doc => console.log(doc))
    // 2. 使用 toArray() 这里非常消耗内存
    const results = await userCollection.find().toArray()
    console.log(results)
  } catch (e) {
    console.error(e);
  } finally {
    await client.close();
  }
}
run();

```
